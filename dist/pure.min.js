/*!
* Pure.js v1.0.0
* undefined
*
* Copyright (c) 2017 undefined
* Released under the MIT license
*
* Date: 2017-12-18T11:32:54.773Z
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Pure=e()}(this,function(){"use strict";function t(t,e,n){(function(t){return"function"==typeof t})(n)&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)}window.document;var e={search:function(){}},n=/^$|\s+/g,i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();return{Input:function(){function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,r),this.element=t,this.option=Object.assign({},e,n),this.$input={},this.$result={},this.inputValue="",this.result=[],this.init()}return u(r,[{key:"init",value:function(){this.element.innerHTML='<input type="text" id="pure-input"><ul id="pure-input-result"></ul>',this.$input=document.querySelector("#pure-input"),this.$result=document.querySelector("#pure-input-result");var e=this.$input,n=this.$result;this.addEventToInput(),t(n,"mousedown",function(t){t=t||window.event,e.value=t.target.innerText})}},{key:"addEventToInput",value:function(){var e=this,i=this.$input,u=this.$result,r=this.inputChange;i.oninput=r.bind(this),i.onpropertychange=i.oninput,t(i,"focus",function(){n.test(e.inputValue)||function(){this.style.display="block"}.call(u)}),t(i,"blur",function(t){t=t||window.event,event.stopPropagation(),function(){this.style.display="none"}.call(u)})}},{key:"inputChange",value:function(){var t=this;this.inputValue=this.$input.value||"",this.getResult().then(function(e){t.result=e,console.log("inputchange search result",e),t.renderResultList()})}},{key:"clearResultList",value:function(){for(var t=this.$result;t.firstChild;)t.removeChild(t.firstChild)}},{key:"renderResultList",value:function(){var t=this.$result,e=this.result;t.innerHTML=e.reduce(function(t,e){return t+"<li>"+e+"</li>"},"")}},{key:"getResult",value:function(){var t=this.inputValue,e=this.option.search;return new Promise(function(n,i){try{n(e(t))}catch(t){i(t)}})}}]),r}()}});